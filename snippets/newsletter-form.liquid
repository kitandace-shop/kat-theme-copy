<div class="newsletter newsletter--default">
    {% form 'customer', class: 'form form--newsletter', id: id %}
        {{ form.errors | default_errors }}
        {% if form.posted_successfully? %}
            <p class="newsletter__success">{{ 'general.newsletter_form.confirmation' | t }}</p>
        {% else %}
            <input type="hidden" name="contact[tags]" value="newsletter">
            <div class="newsletter__wrapper">
                <div class="form__field form__field--email">
                    <input type="email"
                        name="contact[email]"
                        id="NewsletterEmail-{{ id }}"
                        class="form__input newsletter__input"
                        value="{% if customer.email != blank %}{{ customer.email }}{% endif %}"
                        placeholder="{{ 'general.newsletter_form.email_placeholder' | t }}"
                        autocorrect="off"
                        autocomplete="email"
                        autocapitalize="off" required>
                </div>

                <div class="form__field form__field--button">
                    <button type="submit" name="commit" id="Subscribe-{{ id }}" class="button button--primary form__submit newsletter__submit form__submit--ajax">
                        {% render 'icon', name: 'arrow--right' %}
                        <span class="sr-only">{{ 'general.newsletter_form.submit' | t }}</span>
                    </button>
                </div>
            </div>
            <label for="NewsletterEmail-{{ id }}"><span class="visually-hidden">{{ 'general.newsletter_form.email_placeholder' | t }}</span></label>
        {% endif %}
    {% endform %}
</div>
